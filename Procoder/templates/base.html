{% load static %}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!-- Bootstrap CSS -->
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" rel="stylesheet">

    <title> {% block title %} {% endblock title %} </title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="/"><img _ngcontent-serverapp-c44="" alt="logo"
                    src="{% static '/home/img/7.png' %}" width="250"></a>
            <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
                class="navbar-toggler" data-bs-target="#navbarSupportedContent" data-bs-toggle="collapse" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a aria-current="page" class="nav-link active" href="/"><b>Home</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/about"><b>About</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/blog"><b>Blog</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/contact"><b>Contact</b></a>
                    </li>

                </ul>
                <form action="/search" class="btn btn-light d-flex" method="get">
                    <input aria-label="Search" class="form-control me-2" id="query" name="query" placeholder="Search"
                        type="search">
                    <button class="btn btn-outline-dark" type="submit"><b>Search</b></button>
                </form>
                {% if user.is_authenticated %}
                <div class="navbar-nav ml-auto">
                    <a class="btn btn-outline-dark" href="/account"><b>{{request.user}}</b></a>
                </div>
                <div class=" mx-2">
                    <a href="/logout"><button type="button" class="btn btn-outline-dark"><b>Log out</b> </button></a>
                </div>
                {% else %}
                <!-- Button to trigger singup modal -->

                <button class="btn btn-outline-dark mx-2" data-bs-toggle="modal" data-bs-target="#singupModal">
                    <b>Sing In</b>
                </button>

                <!-- Button to trigger Login modal -->

                <button class="btn btn-outline-dark mx-2" data-bs-toggle="modal" data-bs-target="#loginModal">
                    <b>Join</b>
                </button>

                {% endif %}

            </div>
        </div>
    </nav>
    {% for message in messages %}
    <div class="alert alert-{{message.tags}} alert-dismissible fade show" role="alert">
        <strong>Message: </strong> {{message}}
        <button aria-label="Close" class="btn-close" data-bs-dismiss="alert" type="button"></button>

    </div>


    {% endfor %}

    <!-- Singup Modal -->
    <div class="modal fade" id="singupModal" tabindex="-1" aria-labelledby="singupModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="singupModal">Sign In to ProCoder</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <section class="MODAL__modal-content-body-u10cb875b modal-content-body rounded-upper-corners">
                        <form action="/singup" method="post">
                            {% csrf_token %}
                            <div class="sign-in-form">
                                <div class="form-floating">
                                    <input type="name" class="form-control" id="floatingInput" placeholder="name"
                                        id="name" name="name" redirect>
                                    <label for="floatingInput">Username</label>

                                </div>
                                <br>
                                <div class="form-floating">
                                    <input type="email" class="form-control" id="email" name="email"
                                        placeholder="name@example.com" redirect>
                                    <label for="floatingInput">Email</label>

                                </div><br>
                                <div class="form-floating">
                                    <input type="password" class="form-control" id="pass1" name="pass1"
                                        placeholder="Password" redirect>
                                    <label for="floatingPassword">Password</label>
                                </div><br>
                                <div class="form-floating">
                                    <input type="password" class="form-control" id="pass1" name="pass2"
                                        placeholder="Password" redirect>
                                    <label for="floatingPassword">Re-enter Password</label>
                                </div>

                                <div class="checkbox mb-3">
                                    <label>
                                        <a href="/home" class="btn dark"> Forgot Password?</a>
                                    </label>
                                </div>

                                <div align="center">
                                    <button class="w-50 btn btn-lg btn-dark" type="submit">Sign in</button>
                                </div>

                        </form>
                    </section>
                </div>

                <footer class="MODAL__modal-content-footer-uf08d42b0 modal-content-footer">

                    <p>Already a member? <a href="" class="dark">Join</a></p>

                </footer>
            </div>
        </div>
    </div>
    </div>

    <!--Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModaltitle">Join ProCoder</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <section class="MODAL__modal-content-body-u10cb875b modal-content-body rounded-upper-corners">

                        <form action="/login" method="post">
                            {% csrf_token %}
                            <div class="log-in-form">

                                <form>

                                    <div class="form-floating">
                                        <input type="name" class="form-control" id="loginname" placeholder="name"
                                            name="loginname" redirect>
                                        <label for="floatingInput">Username</label>

                                    </div>
                                    <br>
                                    <div class="form-floating">
                                        <input type="password" class="form-control" id="loginPass" name="loginpass"
                                            placeholder="Password" redirect>
                                        <label for="floatingPassword">Password</label>
                                    </div><br>
                                    <div class="mb-3">
                                        <label>
                                            <a href="/home" class="btn dark"> Forgot Password?</a>
                                        </label>
                                    </div>

                                    <div align="center">
                                        <button class="w-50 btn btn-lg btn-dark" type="submit">Join</button>
                                    </div>

                                </form>

                            </div>
                        </form>
                    </section>
                </div>
            </div>
        </div>
    </div>


    {% block body %}{% endblock body %}

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script crossorigin="anonymous" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->

    <script crossorigin="anonymous" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script crossorigin="anonymous" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"></script>


</body>

</html>